var hitTestPoint = function (pointX, pointY, sprite) {
    var hit = pointX > sprite.left() && pointX < sprite.right()
        && pointY > sprite.top() && pointY < sprite.bottom();
    return hit;
};
var hitTestRectangle = function (r1, r2) {
    var hit = false;
    var vx = r1.centerX() - r2.centerX();
    var vy = r1.centerY() - r2.centerY();
    var combinedHalfWidths = r1.halfWidth() + r2.halfWidth();
    var combinedHalfHeights = r1.halfHeight() + r2.halfHeight();
    if (Math.abs(vx) < combinedHalfWidths) {
        if (Math.abs(vy) < combinedHalfHeights) {
            hit = true;
        }
        else {
            hit = false;
        }
    }
    else {
        hit = false;
    }
    return hit;
};
var blockRectangle = function (r1, r2) {
    var collisionSide = "";
    var vx = r1.centerX() - r2.centerX();
    var vy = r1.centerY() - r2.centerY();
    var combinedHalfWidths = r1.halfWidth() + r2.halfWidth();
    var combinedHalfHeights = r1.halfHeight() + r2.halfHeight();
    if (Math.abs(vx) < combinedHalfWidths) {
        if (Math.abs(vy) < combinedHalfHeights) {
            var overlapX = combinedHalfWidths - Math.abs(vx);
            var overlapY = combinedHalfHeights - Math.abs(vy);
            if (overlapX >= overlapY) {
                if (vy > 0) {
                    collisionSide = "top";
                    r1.y = r1.y + overlapY;
                }
                else {
                    collisionSide = "bottom";
                    r1.y = r1.y - overlapY;
                }
            }
            else {
                if (vx > 0) {
                    collisionSide = "left";
                    r1.x = r1.x + overlapX;
                }
                else {
                    collisionSide = "right";
                    r1.x = r1.x - overlapX;
                }
            }
        }
        else {
            collisionSide = "none";
        }
    }
    else {
        collisionSide = "none";
    }
    return collisionSide;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGlzaW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiY29sbGlzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLElBQUksWUFBWSxHQUFHLFVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNO0lBQ3hDLElBQUksR0FBRyxHQUNILE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLEVBQUU7V0FDaEQsTUFBTSxHQUFHLE1BQU0sQ0FBQyxHQUFHLEVBQUUsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBRXZELE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUE7QUFFRCxJQUFJLGdCQUFnQixHQUFHLFVBQUMsRUFBRSxFQUFFLEVBQUU7SUFFNUIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDO0lBR2hCLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDckMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUdyQyxJQUFJLGtCQUFrQixHQUFHLEVBQUUsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDekQsSUFBSSxtQkFBbUIsR0FBRyxFQUFFLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBRzVELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1FBRXJDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1lBRXRDLEdBQUcsR0FBRyxJQUFJLENBQUM7UUFDYixDQUFDO1FBQ0QsSUFBSSxDQUFDLENBQUM7WUFFSixHQUFHLEdBQUcsS0FBSyxDQUFDO1FBQ2QsQ0FBQztJQUNILENBQUM7SUFDRCxJQUFJLENBQUMsQ0FBQztRQUVKLEdBQUcsR0FBRyxLQUFLLENBQUM7SUFDZCxDQUFDO0lBRUQsTUFBTSxDQUFDLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQTtBQUlELElBQUksY0FBYyxHQUFHLFVBQUMsRUFBRSxFQUFFLEVBQUU7SUFHMUIsSUFBSSxhQUFhLEdBQUcsRUFBRSxDQUFDO0lBR3ZCLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDckMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUdyQyxJQUFJLGtCQUFrQixHQUFHLEVBQUUsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDekQsSUFBSSxtQkFBbUIsR0FBRyxFQUFFLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBRzVELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsa0JBQWtCLENBQUMsQ0FBQyxDQUFDO1FBR3JDLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO1lBR3RDLElBQUksUUFBUSxHQUFHLGtCQUFrQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDakQsSUFBSSxRQUFRLEdBQUcsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQU1sRCxFQUFFLENBQUEsQ0FBQyxRQUFRLElBQUssUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFHekIsRUFBRSxDQUFBLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ1YsYUFBYSxHQUFHLEtBQUssQ0FBQztvQkFHdEIsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQztnQkFDekIsQ0FBQztnQkFDRCxJQUFJLENBQUMsQ0FBQztvQkFDSixhQUFhLEdBQUcsUUFBUSxDQUFDO29CQUd6QixFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDO2dCQUN6QixDQUFDO1lBQ0gsQ0FBQztZQUNELElBQUksQ0FBQyxDQUFDO2dCQUdKLEVBQUUsQ0FBQSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNWLGFBQWEsR0FBRyxNQUFNLENBQUM7b0JBR3ZCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUM7Z0JBQ3pCLENBQUM7Z0JBQ0QsSUFBSSxDQUFDLENBQUM7b0JBQ0osYUFBYSxHQUFHLE9BQU8sQ0FBQztvQkFHeEIsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQztnQkFDekIsQ0FBQztZQUNILENBQUM7UUFDSCxDQUFDO1FBQ0QsSUFBSSxDQUFDLENBQUM7WUFFSixhQUFhLEdBQUcsTUFBTSxDQUFDO1FBQ3pCLENBQUM7SUFDSCxDQUFDO0lBQ0QsSUFBSSxDQUFDLENBQUM7UUFFSixhQUFhLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxNQUFNLENBQUMsYUFBYSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vaGl0VGVzdFBvaW50XHJcbmxldCBoaXRUZXN0UG9pbnQgPSAocG9pbnRYLCBwb2ludFksIHNwcml0ZSkgPT4ge1xyXG4gIGxldCBoaXRcclxuICAgID0gcG9pbnRYID4gc3ByaXRlLmxlZnQoKSAmJiBwb2ludFggPCBzcHJpdGUucmlnaHQoKVxyXG4gICAgJiYgcG9pbnRZID4gc3ByaXRlLnRvcCgpICYmIHBvaW50WSA8IHNwcml0ZS5ib3R0b20oKTtcclxuXHJcbiAgcmV0dXJuIGhpdDtcclxufVxyXG5cclxubGV0IGhpdFRlc3RSZWN0YW5nbGUgPSAocjEsIHIyKSA9PiB7XHJcbiAgLy9BIHZhcmlhYmxlIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXJlJ3MgYSBjb2xsaXNpb25cclxuICBsZXQgaGl0ID0gZmFsc2U7XHJcblxyXG4gIC8vQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSB2ZWN0b3JcclxuICBsZXQgdnggPSByMS5jZW50ZXJYKCkgLSByMi5jZW50ZXJYKCk7XHJcbiAgbGV0IHZ5ID0gcjEuY2VudGVyWSgpIC0gcjIuY2VudGVyWSgpO1xyXG5cclxuICAvL0ZpZ3VyZSBvdXQgdGhlIGNvbWJpbmVkIGhhbGYtd2lkdGhzIGFuZCBoYWxmLWhlaWdodHNcclxuICBsZXQgY29tYmluZWRIYWxmV2lkdGhzID0gcjEuaGFsZldpZHRoKCkgKyByMi5oYWxmV2lkdGgoKTtcclxuICBsZXQgY29tYmluZWRIYWxmSGVpZ2h0cyA9IHIxLmhhbGZIZWlnaHQoKSArIHIyLmhhbGZIZWlnaHQoKTtcclxuXHJcbiAgLy9DaGVjayBmb3IgYSBjb2xsaXNpb24gb24gdGhlIHggYXhpc1xyXG4gIGlmKE1hdGguYWJzKHZ4KSA8IGNvbWJpbmVkSGFsZldpZHRocykge1xyXG4gICAgLy9BIGNvbGxpc2lvbiBtaWdodCBiZSBvY2N1cmluZy4gQ2hlY2sgZm9yIGEgY29sbGlzaW9uIG9uIHRoZSB5IGF4aXNcclxuICAgIGlmKE1hdGguYWJzKHZ5KSA8IGNvbWJpbmVkSGFsZkhlaWdodHMpIHtcclxuICAgICAgLy9UaGVyZSdzIGRlZmluaXRlbHkgYSBjb2xsaXNpb24gaGFwcGVuaW5nXHJcbiAgICAgIGhpdCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy9UaGVyZSdzIG5vIGNvbGxpc2lvbiBvbiB0aGUgeSBheGlzXHJcbiAgICAgIGhpdCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIC8vVGhlcmUncyBubyBjb2xsaXNpb24gb24gdGhlIHggYXhpc1xyXG4gICAgaGl0ID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gaGl0O1xyXG59XHJcblxyXG4vL2Jsb2NrUmVjdGFuZ2xlXHJcblxyXG5sZXQgYmxvY2tSZWN0YW5nbGUgPSAocjEsIHIyKSA9PiB7XHJcbiAgLy9BIHZhcmlhYmxlIHRvIHRlbGwgdXMgd2hpY2ggc2lkZSB0aGVcclxuICAvL2NvbGxpc2lvbiBpcyBvY2N1cnJpbmcgb25cclxuICBsZXQgY29sbGlzaW9uU2lkZSA9IFwiXCI7XHJcblxyXG4gIC8vQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSB2ZWN0b3JcclxuICBsZXQgdnggPSByMS5jZW50ZXJYKCkgLSByMi5jZW50ZXJYKCk7XHJcbiAgbGV0IHZ5ID0gcjEuY2VudGVyWSgpIC0gcjIuY2VudGVyWSgpO1xyXG5cclxuICAvL0ZpZ3VyZSBvdXQgdGhlIGNvbWJpbmVkIGhhbGYtd2lkdGhzIGFuZCBoYWxmLWhlaWdodHNcclxuICBsZXQgY29tYmluZWRIYWxmV2lkdGhzID0gcjEuaGFsZldpZHRoKCkgKyByMi5oYWxmV2lkdGgoKTtcclxuICBsZXQgY29tYmluZWRIYWxmSGVpZ2h0cyA9IHIxLmhhbGZIZWlnaHQoKSArIHIyLmhhbGZIZWlnaHQoKTtcclxuXHJcbiAgLy9DaGVjayB3aGV0aGVyIHZ4IGlzIGxlc3MgdGhhbiB0aGUgY29tYmluZWQgaGFsZiB3aWR0aHNcclxuICBpZihNYXRoLmFicyh2eCkgPCBjb21iaW5lZEhhbGZXaWR0aHMpIHtcclxuICAgIC8vQSBjb2xsaXNpb24gbWlnaHQgYmUgb2NjdXJyaW5nIVxyXG4gICAgLy9DaGVjayB3aGV0aGVyIHZ5IGlzIGxlc3MgdGhhbiB0aGUgY29tYmluZWQgaGFsZiBoZWlnaHRzXHJcbiAgICBpZihNYXRoLmFicyh2eSkgPCBjb21iaW5lZEhhbGZIZWlnaHRzKSB7XHJcbiAgICAgIC8vQSBjb2xsaXNpb24gaGFzIG9jY3VycmVkISBUaGlzIGlzIGdvb2QhXHJcbiAgICAgIC8vRmluZCBvdXQgdGhlIHNpemUgb2YgdGhlIG92ZXJsYXAgb24gYm90aCB0aGUgWCBhbmQgWSBheGVzXHJcbiAgICAgIGxldCBvdmVybGFwWCA9IGNvbWJpbmVkSGFsZldpZHRocyAtIE1hdGguYWJzKHZ4KTtcclxuICAgICAgbGV0IG92ZXJsYXBZID0gY29tYmluZWRIYWxmSGVpZ2h0cyAtIE1hdGguYWJzKHZ5KTtcclxuXHJcbiAgICAgIC8vVGhlIGNvbGxpc2lvbiBoYXMgb2NjdXJyZWQgb24gdGhlIGF4aXMgd2l0aCB0aGVcclxuICAgICAgLy8qc21hbGxlc3QqIGFtb3VudCBvZiBvdmVybGFwLiBOZXh0IHdlIHdpbGwgZmlndXJlIG91dCB3aGljaFxyXG4gICAgICAvL2F4aXMgdGhhdCBpc1xyXG5cclxuICAgICAgaWYob3ZlcmxhcFggPj0gIG92ZXJsYXBZKSB7XHJcbiAgICAgICAgLy9UaGUgY29sbGlzaW9uIGlzIGhhcHBlbmluZyBvbiB0aGUgWCBheGlzXHJcbiAgICAgICAgLy9CdXQgb24gd2hpY2ggc2lkZT8gdnkgY2FuIHRlbGwgdXNcclxuICAgICAgICBpZih2eSA+IDApIHtcclxuICAgICAgICAgIGNvbGxpc2lvblNpZGUgPSBcInRvcFwiO1xyXG5cclxuICAgICAgICAgIC8vTW92ZSB0aGUgcmVjdGFuZ2xlIG91dCBvZiB0aGUgY29sbGlzaW9uXHJcbiAgICAgICAgICByMS55ID0gcjEueSArIG92ZXJsYXBZO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGNvbGxpc2lvblNpZGUgPSBcImJvdHRvbVwiO1xyXG5cclxuICAgICAgICAgIC8vTW92ZSB0aGUgcmVjdGFuZ2xlIG91dCBvZiB0aGUgY29sbGlzaW9uXHJcbiAgICAgICAgICByMS55ID0gcjEueSAtIG92ZXJsYXBZO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvL1RoZSBjb2xsaXNpb24gaXMgaGFwcGVuaW5nIG9uIHRoZSBZIGF4aXNcclxuICAgICAgICAvL0J1dCBvbiB3aGljaCBzaWRlPyB2eCBjYW4gdGVsbCB1c1xyXG4gICAgICAgIGlmKHZ4ID4gMCkge1xyXG4gICAgICAgICAgY29sbGlzaW9uU2lkZSA9IFwibGVmdFwiO1xyXG5cclxuICAgICAgICAgIC8vTW92ZSB0aGUgcmVjdGFuZ2xlIG91dCBvZiB0aGUgY29sbGlzaW9uXHJcbiAgICAgICAgICByMS54ID0gcjEueCArIG92ZXJsYXBYO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGNvbGxpc2lvblNpZGUgPSBcInJpZ2h0XCI7XHJcblxyXG4gICAgICAgICAgLy9Nb3ZlIHRoZSByZWN0YW5nbGUgb3V0IG9mIHRoZSBjb2xsaXNpb25cclxuICAgICAgICAgIHIxLnggPSByMS54IC0gb3ZlcmxhcFg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy9ObyBjb2xsaXNpb25cclxuICAgICAgY29sbGlzaW9uU2lkZSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIC8vTm8gY29sbGlzaW9uXHJcbiAgICBjb2xsaXNpb25TaWRlID0gXCJub25lXCI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY29sbGlzaW9uU2lkZTtcclxufVxyXG4iXX0=